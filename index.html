<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>skoozuh.exe // NEON</title>
  <link rel="icon" type="image/png" href="head.png" />
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <style>
    :root {
      --neon: #ff2a6d;
      --neon2: #05d9e8;
      --dark: #0c0c0f;
      --dark2: #18181f;
      --gray: #3d3d45;
      --radius: 0;
      --scan: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='2'%3E%3Cpath d='M0 1h100' stroke='%23ff2a6d' stroke-width='.5'/%3E%3C/svg%3E");
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'Space Mono', monospace;
      background: var(--dark);
      color: var(--neon2);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }
    body::after {
      content: "";
      position: absolute;
      inset: 0;
      background: var(--scan) repeat-y;
      opacity: .15;
      pointer-events: none;
      animation: scan 4s linear infinite;
    }
    @keyframes scan {
      to { background-position: 0 100vh; }
    }
    .crt::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
      background-size: 100% 2px, 3px 100%;
      pointer-events: none;
      z-index: 999;
    }
    .overlay {
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      cursor: pointer;
      transition: opacity .6s ease;
    }
    .overlay-text {
      font-family: 'Orbitron', sans-serif;
      font-size: 2rem;
      letter-spacing: 4px;
      color: var(--neon);
      text-shadow: 0 0 8px var(--neon);
      animation: blink 1s step-end infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    .console {
      width: 90vw;
      max-width: 1000px;
      background: var(--dark2);
      border: 1px solid var(--neon);
      box-shadow: 0 0 20px var(--neon), inset 0 0 20px rgba(255, 42, 109, 0.1);
      display: grid;
      grid-template-columns: 240px 1fr 280px;
      gap: 24px;
      padding: 24px;
      position: relative;
      clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
    }
    @media (max-width: 900px) {
      .console { grid-template-columns: 1fr 1fr; }
      .queue-box { grid-column: 1 / -1; }
    }
    @media (max-width: 600px) {
      .console { grid-template-columns: 1fr; }
    }
    .side {
      display: flex;
      flex-direction: column;
      gap: 16px;
      z-index: 1;
    }
    .pfp {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      border: 1px solid var(--neon);
      filter: grayscale(1) contrast(1.2) drop-shadow(0 0 6px var(--neon));
      transition: filter .3s ease;
    }
    .pfp:hover {
      filter: grayscale(0) contrast(1.2) drop-shadow(0 0 10px var(--neon));
    }
    .glitch {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.6rem;
      color: var(--neon);
      position: relative;
    }
    .glitch::before,
    .glitch::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .glitch::before {
      animation: glitch-1 0.5s infinite;
      color: var(--neon2);
      z-index: -1;
    }
    .glitch::after {
      animation: glitch-2 0.5s infinite;
      color: var(--neon);
      z-index: -2;
    }
    @keyframes glitch-1 {
      0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
      20% { clip-path: inset(20% 0 60% 0); transform: translate(-2px, 2px); }
      40% { clip-path: inset(50% 0 20% 0); transform: translate(2px, -2px); }
      60% { clip-path: inset(10% 0 80% 0); transform: translate(-1px, 1px); }
      80% { clip-path: inset(80% 0 10% 0); transform: translate(1px, -1px); }
    }
    @keyframes glitch-2 {
      0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
      20% { clip-path: inset(80% 0 10% 0); transform: translate(2px, -1px); }
      40% { clip-path: inset(10% 0 80% 0); transform: translate(-2px, 1px); }
      60% { clip-path: inset(50% 0 20% 0); transform: translate(1px, -2px); }
      80% { clip-path: inset(20% 0 60% 0); transform: translate(-1px, 2px); }
    }
    .bio {
      font-size: 0.9rem;
      color: var(--gray);
      line-height: 1.5;
    }
    .rgb {
      display: inline-block;
      transition: transform 0.2s ease;
    }
    .rgb:hover {
      transform: scale(1.05);
      text-shadow:
        -1px -1px 0 var(--neon),
        1px -1px 0 var(--neon2),
        -1px 1px 0 var(--neon),
        1px 1px 0 var(--neon2);
    }
    .queue-box {
      border: 1px solid var(--neon);
      padding: 8px;
      max-height: 140px;
      overflow-y: auto;
      scrollbar-width: none; /* Firefox */
    }
    .queue-box::-webkit-scrollbar {
      display: none; /* Chrome / Safari */
    }
    .queue-item {
      padding: 4px 6px;
      margin: 2px 0;
      cursor: pointer;
      transition: background 0.2s ease, color 0.2s ease;
    }
    .queue-item:hover {
      background: var(--neon);
      color: var(--dark);
    }
    .center {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      z-index: 1;
    }
    .ring {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      background: conic-gradient(var(--neon) 0deg, transparent 0deg);
      display: grid;
      place-items: center;
      position: relative;
      animation: rotate 20s linear infinite;
    }
    @keyframes rotate {
      to { transform: rotate(360deg); }
    }
    .ring::before {
      content: "";
      position: absolute;
      width: 140px;
      height: 140px;
      border-radius: 50%;
      background: var(--dark2);
    }
    .cover {
      width: 130px;
      height: 130px;
      border-radius: 50%;
      object-fit: cover;
      z-index: 1;
      filter: saturate(0.8) hue-rotate(320deg) drop-shadow(0 0 4px var(--neon));
    }
    .viz-horizontal {
      display: flex;
      gap: 3px;
      height: 28px;
      align-items: flex-end;
    }
    .bar-h {
      width: 4px;
      min-height: 3px;
      background: linear-gradient(180deg, var(--neon), var(--neon2));
      border-radius: 2px;
    }
    .controls {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      max-width: 300px;
    }
    .btn {
      background: transparent;
      border: 1px solid var(--neon);
      color: var(--neon);
      padding: 6px 12px;
      font-family: inherit;
      cursor: pointer;
      transition: background 0.2s ease, color 0.2s ease;
    }
    .btn:hover {
      background: var(--neon);
      color: var(--dark);
    }
    .progress {
      flex: 1;
      height: 6px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 3px;
      overflow: hidden;
      cursor: pointer;
      position: relative;
    }
    .progress .fill {
      height: 100%;
      width: 0%;
      background: var(--neon);
      transition: width 0.1s linear;
    }
    .time {
      font-size: 0.75rem;
      color: var(--gray);
      min-width: 36px;
      text-align: center;
    }
    .socials {
      position: absolute;
      bottom: 12px;
      right: 12px;
      display: flex;
      gap: 8px;
      z-index: 1;
    }
    .social {
      width: 32px;
      height: 32px;
      border: 1px solid var(--neon);
      display: grid;
      place-items: center;
      transition: background 0.2s ease, transform 0.2s ease;
    }
    .social:hover {
      background: var(--neon);
      transform: translateY(-2px);
    }
    .social img {
      width: 16px;
      height: 16px;
      filter: invert(1);
    }
  </style>
</head>
<body class="crt">
  <div class="overlay" id="overlay">
    <div class="overlay-text">[ WELCOME ]</div>
  </div>

  <div class="console">
    <!-- LEFT: profile + player -->
    <div class="side">
      <img src="assets/pfp.png" alt="pfp" class="pfp">
      <div class="glitch" data-text="skoozuh">skoozuh</div>
      <div class="bio">
        17 · producer · photographer · <span class="rgb">aesthetic hacker</span>
      </div>

      <!-- moved + re-coloured player -->
      <div class="center">
        <div class="ring" id="ring">
          <img src="assets/songcover.png" alt="cover" class="cover" id="cover">
        </div>
        <div id="trackTitle" style="font-family: 'Orbitron', sans-serif; font-size: 1.1rem;">—</div>
        <div id="trackSub" style="font-size: 0.8rem; color: var(--gray);">—</div>
        <div class="viz-horizontal" id="viz"></div>
        <div class="controls">
          <button class="btn" id="prevBtn">≪</button>
          <button class="btn" id="playBtn">▶</button>
          <button class="btn" id="nextBtn">≫</button>
          <div class="progress" id="progress">
            <div class="fill" id="fill"></div>
          </div>
          <div class="time" id="currentTime">0:00</div>
        </div>
      </div>
    </div>

    <!-- MIDDLE: spacer / optional badges could go here -->
    <div class="center" style="justify-content: flex-start; padding-top: 8px;">
      <!-- empty for now – keeps grid tidy -->
    </div>

    <!-- RIGHT: queue only -->
    <div class="side queue-box">
      <div style="margin-bottom: 6px; color: var(--neon);">► QUEUE</div>
      <div id="queueList"></div>
    </div>

    <!-- bottom-right socials -->
    <div class="socials">
      <a class="social" href="https://instagram.com/okok00101010110" target="_blank"><img src="assets/instagram.png" alt="IG"></a>
      <a class="social" href="https://www.last.fm/user/skoozuh" target="_blank"><img src="assets/lastfm.png" alt="LM"></a>
    </div>
  </div>

  <audio id="audio" preload="metadata"></audio>

  <script>
    const playlist = [
      { src: 'assets/song.mp3', title: 'back to my day job', artist: 'wifiskeleton', cover: 'assets/songcover.png' },
      { src: 'assets/song2.mp3', title: 'Chain Swangin', artist: 'Molly Santana', cover: 'assets/song2cover.png' },
      { src: 'assets/song3.mp3', title: 'Stutter Flow', artist: 'Baby Tron', cover: 'assets/song3cover.png' }
    ];
    let index = 0;
    let audioCtx, analyser, dataArray, rafId;

    const $ = sel => document.querySelector(sel);
    const audio = $('#audio');
    const playBtn = $('#playBtn');
    const prevBtn = $('#prevBtn');
    const nextBtn = $('#nextBtn');
    const progress = $('#progress');
    const fill = $('#fill');
    const currentTimeEl = $('#currentTime');
    const trackTitleEl = $('#trackTitle');
    const trackSubEl = $('#trackSub');
    const coverEl = $('#cover');
    const queueList = $('#queueList');
    const overlay = $('#overlay');
    const viz = $('#viz');

    // build horizontal visualiser
    for (let i = 0; i < 24; i++) {
      const bar = document.createElement('div');
      bar.className = 'bar-h';
      bar.style.height = '3px';
      viz.appendChild(bar);
    }
    const bars = Array.from(viz.querySelectorAll('.bar-h'));

    function initAudioGraph() {
      if (audioCtx) return;
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      analyser = audioCtx.createAnalyser();
      analyser.fftSize = 128;
      const bufferLength = analyser.frequencyBinCount;
      dataArray = new Uint8Array(bufferLength);
      const source = audioCtx.createMediaElementSource(audio);
      source.connect(analyser);
      analyser.connect(audioCtx.destination);
    }

    function drawViz() {
      if (!analyser) return;
      cancelAnimationFrame(rafId);
      function loop() {
        analyser.getByteFrequencyData(dataArray);
        const step = Math.floor(dataArray.length / bars.length);
        bars.forEach((bar, i) => {
          const avg = dataArray.slice(i * step, (i + 1) * step).reduce((a, b) => a + b, 0) / step;
          bar.style.height = Math.max(3, (avg / 255) * 22) + 'px';
        });
        rafId = requestAnimationFrame(loop);
      }
      loop();
    }

    function stopViz() {
      cancelAnimationFrame(rafId);
      bars.forEach(bar => bar.style.height = '3px');
    }

    function loadTrack(i, autoplay = false) {
      index = (i + playlist.length) % playlist.length;
      const t = playlist[index];
      audio.src = t.src;
      trackTitleEl.textContent = t.title;
      trackSubEl.textContent = t.artist;
      coverEl.src = t.cover;
      renderQueue();
      if (autoplay) audio.play();
    }

    function renderQueue() {
      queueList.innerHTML = '';
      for (let n = 1; n < playlist.length; n++) {
        const idx = (index + n) % playlist.length;
        const item = document.createElement('div');
        item.className = 'queue-item';
        item.textContent = `${playlist[idx].title} — ${playlist[idx].artist}`;
        item.onclick = () => loadTrack(idx, true);
        queueList.appendChild(item);
      }
    }

    overlay.addEventListener('click', async () => {
      overlay.style.opacity = 0;
      setTimeout(() => overlay.remove(), 600);
      initAudioGraph();
      loadTrack(0, true);
      if (audioCtx.state === 'suspended') await audioCtx.resume();
    });

    playBtn.addEventListener('click', async () => {
      if (!audioCtx) initAudioGraph();
      if (audioCtx.state === 'suspended') await audioCtx.resume();
      audio.paused ? audio.play() : audio.pause();
    });

    prevBtn.addEventListener('click', () => loadTrack(index - 1, true));
    nextBtn.addEventListener('click', () => loadTrack(index + 1, true));

    audio.addEventListener('play', () => {
      playBtn.textContent = '❚❚';
      drawViz();
    });
    audio.addEventListener('pause', () => {
      playBtn.textContent = '▶';
      stopViz();
    });
    audio.addEventListener('ended', () => loadTrack(index + 1, true));
    audio.addEventListener('timeupdate', () => {
      if (!audio.duration) return;
      fill.style.width = (audio.currentTime / audio.duration) * 100 + '%';
      currentTimeEl.textContent = formatTime(audio.currentTime);
    });
    audio.addEventListener('loadedmetadata', () => {
      currentTimeEl.textContent = '0:00';
    });

    progress.addEventListener('click', e => {
      const rect = progress.getBoundingClientRect();
      const pct = Math.min(Math.max((e.clientX - rect.left) / rect.width, 0), 1);
      audio.currentTime = pct * (audio.duration || 0);
    });

    function formatTime(s) {
      if (!s || isNaN(s)) return '0:00';
      const m = Math.floor(s / 60);
      const sec = Math.floor(s % 60).toString().padStart(2, '0');
      return `${m}:${sec}`;
    }

    loadTrack(0, false);
  </script>
</body>
</html>
